{"version":3,"sources":["assets/logo.svg","assets/rifle.svg","assets/medic.svg","assets/engineer.svg","assets/sniper.svg","assets/credit.svg","assets/vb.svg","assets/elit.svg","assets/gold.svg","assets/rm.svg","assets/craft.svg","assets/serial.svg","assets/holiday.svg","App.tsx","index.tsx"],"names":["putToCache","elem","cache","indexOf","i","Math","floor","random","length","splice","shuffle","arr","compare","a","b","madness","sort","defaultClasses","App","filterBySettings","guns","settings","filter","gun","byClass","find","el","id","class","byGold","byRM","byCredits","byElite","bySerial","byHoliday","byCraft","byVb","checked","isGold","canRM","type","subType","useState","styleLeft","setStyleLeft","title","icon","rifle","width","medic","engineer","sniper","credit","vb","elit","gold","rm","craft","serial","holiday","setSettings","data","gunsList","setGunsList","className","src","logo","alt","map","setting","htmlFor","style","onChange","newSettings","countClassChecked","needUpdate","forEach","includes","changeChecked","left","idx","image","onClick","setTimeout","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qOAAe,MAA0B,iCCA1B,MAA0B,kCCA1B,MAA0B,kCCA1B,MAA0B,qCCA1B,MAA0B,mCCA1B,MAA0B,mCCA1B,MAA0B,+BCA1B,MAA0B,iCCA1B,MAA0B,iCCA1B,MAA0B,+BCA1B,MAA0B,kCCA1B,MAA0B,mCCA1B,MAA0B,oC,OCqCzC,SAASA,EAAWC,EAAMC,GACtB,IAA4B,IAAzBA,EAAMC,QAAQF,GAAjB,CAGA,IAAIG,EAAIC,KAAKC,MAAMD,KAAKE,UAAUL,EAAMM,OAAS,IACjDN,EAAMO,OAAOL,EAAG,EAAGH,IAiBvB,SAASS,EAAQC,GACb,IAAIC,EAfR,WAEI,IAAIV,EAAQ,GAEZ,OAAO,SAASW,EAAGC,GAMf,OAJAd,EAAWa,EAAGX,GAEdF,EAAWc,EAAGZ,GAEPA,EAAMC,QAAQW,GAAKZ,EAAMC,QAAQU,IAK9BE,GACd,OAAOJ,EAAIK,KAAKJ,GAGpB,IAAMK,EAAiB,CAAC,WAAY,QAAS,WAAY,UAmJ1CC,MAjJf,WACI,IAAMC,EAAmB,SAACC,EAAcC,GAoDpC,OAnDYD,EAAKE,QAAO,SAACC,GACrB,IAAMC,EAAUH,EAASI,MAAK,SAACC,GAAD,OAAkBA,EAAGC,KAAOJ,EAAIK,SACxDC,EAASR,EAASI,MAAK,SAACC,GAAD,MAA4B,SAAVA,EAAGC,MAC5CG,EAAOT,EAASI,MAAK,SAACC,GAAD,MAA4B,OAAVA,EAAGC,MAC1CI,EAAYV,EAASI,MAAK,SAACC,GAAD,MAA4B,WAAVA,EAAGC,MAC/CK,EAAUX,EAASI,MAAK,SAACC,GAAD,MAA4B,SAAVA,EAAGC,MAC7CM,EAAWZ,EAASI,MAAK,SAACC,GAAD,MAA4B,WAAVA,EAAGC,MAC9CO,EAAYb,EAASI,MAAK,SAACC,GAAD,MAA4B,YAAVA,EAAGC,MAC/CQ,EAAUd,EAASI,MAAK,SAACC,GAAD,MAA4B,UAAVA,EAAGC,MAC7CS,EAAOf,EAASI,MAAK,SAACC,GAAD,MAA4B,OAAVA,EAAGC,MAEhD,QAAuB,qBAAZH,IAA4BA,EAAQa,aAIzB,qBAAXR,IAA2BA,EAAOQ,SAAWd,EAAIe,YAIxC,qBAATR,GAAwBA,EAAKO,UAAYd,EAAIgB,YAI/B,qBAAdR,GAA8BA,EAAUM,SACjC,YAAbd,EAAIiB,MAAsC,gBAAhBjB,EAAIkB,SAA6C,YAAhBlB,EAAIkB,aAI7C,qBAAZT,IAA4BA,EAAQK,SAAwB,UAAbd,EAAIiB,WAItC,qBAAbP,GAA6BA,EAASI,SAC5B,WAAhBd,EAAIkB,SAAwC,UAAhBlB,EAAIkB,SAAuC,gBAAhBlB,EAAIkB,SAA6C,eAAhBlB,EAAIkB,aAIxE,qBAAdP,IAA8BA,EAAUG,SAA2B,YAAhBd,EAAIkB,aAI3C,qBAAZN,IAA4BA,EAAQE,SAA2B,aAAhBd,EAAIkB,YAI1C,qBAATL,IAAyBA,EAAKC,SAAwB,YAAbd,EAAIiB,iBAShE,EAAsDE,mBAAS,GAA/D,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAAwDF,mBAAS,CAC7D,CAACf,GAAI,WAAYkB,MAAO,yDAAaR,SAAS,EAAMS,KAAMC,EAAOC,MAAO,IACxE,CAACrB,GAAI,QAASkB,MAAO,iCAASR,SAAS,EAAMS,KAAMG,EAAOD,MAAO,IACjE,CAACrB,GAAI,WAAYkB,MAAO,6CAAWR,SAAS,EAAMS,KAAMI,EAAUF,MAAO,IACzE,CAACrB,GAAI,SAAUkB,MAAO,6CAAWR,SAAS,EAAMS,KAAMK,EAAQH,MAAO,IACrE,CAACrB,GAAI,SAAUkB,MAAO,0DAAcR,SAAS,EAAMS,KAAMM,EAAQJ,MAAO,KACxE,CAACrB,GAAI,KAAMkB,MAAO,gEAAeR,SAAS,EAAMS,KAAMO,EAAIL,MAAO,KACjE,CAACrB,GAAI,OAAQkB,MAAO,6CAAWR,SAAS,EAAOS,KAAMQ,EAAMN,MAAO,KAClE,CAACrB,GAAI,OAAQkB,MAAO,6CAAWR,SAAS,EAAOS,KAAMS,EAAMP,MAAO,KAClE,CAACrB,GAAI,KAAMkB,MAAO,mFAAmBR,SAAS,EAAMS,KAAMU,EAAIR,MAAO,KACrE,CAACrB,GAAI,QAASkB,MAAO,yDAAaR,SAAS,EAAOS,KAAMW,EAAOT,MAAO,KACtE,CAACrB,GAAI,SAAUkB,MAAO,8CAAYR,SAAS,EAAOS,KAAMY,EAAQV,MAAO,KACvE,CAACrB,GAAI,UAAWkB,MAAO,qEAAeR,SAAS,EAAOS,KAAMa,EAASX,MAAO,OAZhF,mBAAO3B,EAAP,KAAiBuC,EAAjB,KAcA,EAAoDlB,mBAAShC,EAAQS,EAAiBC,EAAKyC,KAAgBxC,KAA3G,mBAAOyC,EAAP,KAAiBC,EAAjB,KAsCA,OACI,sBAAKC,UAAU,SAAf,UACI,qBAAKA,UAAU,iBAAf,SACI,qBAAKC,IAAKC,EAAMC,IAAI,yBAExB,qBAAKH,UAAU,oBAAf,eACA,sBAAKA,UAAU,kBAAf,UACI,qBAAKA,UAAU,2BAAf,SACM3C,EAAS+C,KAAI,SAACC,GAAD,OACX,sBAAsBL,UAAU,iCAAhC,UACI,qBAAKC,IAAKI,EAAQvB,KAAMqB,IAAKE,EAAQxB,QACrC,uBAAOyB,QAASD,EAAQ1C,GAAI4C,MAAO,CAACvB,MAAOqB,EAAQrB,OAAnD,SAA4DqB,EAAQxB,QACpE,uBAAO2B,SAAU,kBA/CnB,SAAC7C,GACnB,IAAM8C,EAAW,YAAOpD,GACpBqD,EAAoB,EACpBC,GAAa,EAEjBF,EAAYG,SAAQ,SAAClD,GACbT,EAAe4D,SAASnD,EAAGC,KAAOD,EAAGW,SACrCqC,OAKRD,EAAYG,SAAQ,SAAClD,GACjB,GAAIA,EAAGC,KAAOA,EAAI,CACd,GAAIV,EAAe4D,SAASnD,EAAGC,KAA6B,IAAtB+C,GAA2BhD,EAAGW,QAEhE,YADAsC,GAAa,GAGjBjD,EAAGW,SAAWX,EAAGW,YAGzBuB,EAAYa,GACRE,GACAZ,EAAY,YAAIrD,EAAQS,EAAiBC,EAAKyC,KAAgBY,MAwBvBK,CAAcT,EAAQ1C,KAAKa,KAAK,WAAWb,GAAI0C,EAAQ1C,GAAIU,QAASgC,EAAQhC,YAH7FgC,EAAQ1C,SAO1B,sBAAKqC,UAAU,0BAAf,UACI,qBAAKA,UAAU,iCAAf,eACA,sBAAKA,UAAU,iCAAf,UACI,qBAAKA,UAAU,iCAAf,eACA,qBAAKA,UAAU,gCAAgCO,MAAO,CAACQ,KAAMpC,GAA7D,SACMmB,EAASM,KAAI,SAAC7C,EAAKyD,GAAN,OACX,gCACG,qBAAKf,IAAK1C,EAAI0D,MAAOd,IAAI,KACzB,+BAAO5C,EAAIsB,UAFJmC,WAOtB,wBAAQhB,UAAU,gCAAgCkB,QArCnD,WACX,IAAI3E,EAASF,KAAKC,MAAMD,KAAKE,SAAWuD,EAAStD,QACjDoC,EAAuB,KAATrC,GACd4E,YAAW,WACP5E,MACD,MAgCS,kECvMpB6E,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.1bcc1f62.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.3dac8bfc.svg\";","export default __webpack_public_path__ + \"static/media/rifle.b2d1c13d.svg\";","export default __webpack_public_path__ + \"static/media/medic.84bdadda.svg\";","export default __webpack_public_path__ + \"static/media/engineer.0806b94f.svg\";","export default __webpack_public_path__ + \"static/media/sniper.46a2a479.svg\";","export default __webpack_public_path__ + \"static/media/credit.194043f9.svg\";","export default __webpack_public_path__ + \"static/media/vb.1eaadc03.svg\";","export default __webpack_public_path__ + \"static/media/elit.c4ecfabb.svg\";","export default __webpack_public_path__ + \"static/media/gold.2e050f09.svg\";","export default __webpack_public_path__ + \"static/media/rm.179bceff.svg\";","export default __webpack_public_path__ + \"static/media/craft.584a0856.svg\";","export default __webpack_public_path__ + \"static/media/serial.b024d41e.svg\";","export default __webpack_public_path__ + \"static/media/holiday.cc0d2f2e.svg\";","import React, {CSSProperties, useState} from 'react';\nimport './App.scss';\nimport guns from './parser/guns.json';\n\nimport logo from './assets/logo.svg';\nimport rifle from './assets/rifle.svg';\nimport medic from './assets/medic.svg';\nimport engineer from './assets/engineer.svg';\nimport sniper from './assets/sniper.svg';\nimport credit from './assets/credit.svg';\nimport vb from './assets/vb.svg';\nimport elit from './assets/elit.svg';\nimport gold from './assets/gold.svg';\nimport rm from './assets/rm.svg';\nimport craft from './assets/craft.svg';\nimport serial from './assets/serial.svg';\nimport holiday from './assets/holiday.svg';\n\ninterface ISetting {\n    id: string;\n    title: string;\n    checked: boolean;\n    icon: string;\n    width: number;\n}\n\ninterface IGun {\n    title: string;\n    image: string;\n    class: string;\n    type: string;\n    subType: string;\n    isGold: boolean;\n    canRM: boolean;\n}\n\n// @ts-ignore\nfunction putToCache(elem, cache){\n    if(cache.indexOf(elem) !== -1){\n        return;\n    }\n    var i = Math.floor(Math.random()*(cache.length + 1));\n    cache.splice(i, 0, elem);\n}\n\nfunction madness(){\n    // @ts-ignore\n    var cache = [];\n    // @ts-ignore\n    return function(a, b){\n        // @ts-ignore\n        putToCache(a, cache);\n        // @ts-ignore\n        putToCache(b, cache);\n        // @ts-ignore\n        return cache.indexOf(b) - cache.indexOf(a);\n    }\n}\n\nfunction shuffle(arr: IGun[]){\n    var compare = madness();\n    return arr.sort(compare);\n}\n\nconst defaultClasses = ['rifleman', 'medic', 'engineer', 'sniper'];\n\nfunction App() {\n    const filterBySettings = (guns: IGun[], settings: ISetting[]): IGun[] => {\n        const arr = guns.filter((gun: IGun) => {\n            const byClass = settings.find((el: ISetting) => el.id === gun.class);\n            const byGold = settings.find((el: ISetting) => el.id === 'gold');\n            const byRM = settings.find((el: ISetting) => el.id === 'rm');\n            const byCredits = settings.find((el: ISetting) => el.id === 'credit');\n            const byElite = settings.find((el: ISetting) => el.id === 'elit');\n            const bySerial = settings.find((el: ISetting) => el.id === 'serial');\n            const byHoliday = settings.find((el: ISetting) => el.id === 'holiday');\n            const byCraft = settings.find((el: ISetting) => el.id === 'craft');\n            const byVb = settings.find((el: ISetting) => el.id === 'vb');\n\n            if (typeof byClass !== 'undefined' && !byClass.checked) {\n                return false;\n            }\n\n            if (typeof byGold !== 'undefined' && !byGold.checked && gun.isGold) {\n                return false;\n            }\n\n            if (typeof byRM !== 'undefined' && byRM.checked && !gun.canRM) {\n                return false;\n            }\n\n            if (typeof byCredits !== 'undefined' && !byCredits.checked &&\n                (gun.type === 'credits' || gun.subType === 'globalEvent' || gun.subType === 'holiday')) {\n                return false;\n            }\n\n            if (typeof byElite !== 'undefined' && !byElite.checked && gun.type === 'elite') {\n                return false;\n            }\n\n            if (typeof bySerial !== 'undefined' && !bySerial.checked &&\n                (gun.subType === 'serial' || gun.subType === 'other' || gun.subType === 'globalEvent' || gun.subType === 'operations')) {\n                return false;\n            }\n\n            if (typeof byHoliday !== 'undefined' && !byHoliday.checked && gun.subType === 'holiday') {\n                return false;\n            }\n\n            if (typeof byCraft !== 'undefined' && !byCraft.checked && gun.subType === 'crafting') {\n                return false;\n            }\n\n            if (typeof byVb !== 'undefined' && !byVb.checked && gun.type !== 'credits') {\n                return false;\n            }\n\n            return true;\n        });\n        return arr;\n    };\n\n    const [styleLeft, setStyleLeft]: [number, Function] = useState(0);\n    const [settings, setSettings]: [ISetting[], Function] = useState([\n        {id: 'rifleman', title: 'Штурмовик', checked: true, icon: rifle, width: 90},\n        {id: 'medic', title: 'Медик', checked: true, icon: medic, width: 90},\n        {id: 'engineer', title: 'Инженер', checked: true, icon: engineer, width: 90},\n        {id: 'sniper', title: 'Снайпер', checked: true, icon: sniper, width: 90},\n        {id: 'credit', title: 'За кредиты', checked: true, icon: credit, width: 100},\n        {id: 'vb', title: 'За варбаксы', checked: true, icon: vb, width: 100},\n        {id: 'elit', title: 'Элитное', checked: false, icon: elit, width: 100},\n        {id: 'gold', title: 'Золотое', checked: false, icon: gold, width: 100},\n        {id: 'rm', title: 'Разрешено на РМ', checked: true, icon: rm, width: 140},\n        {id: 'craft', title: 'Крафтовое', checked: false, icon: craft, width: 142},\n        {id: 'serial', title: 'Из серии', checked: false, icon: serial, width: 142},\n        {id: 'holiday', title: 'Праздничное', checked: false, icon: holiday, width: 142},\n    ] as unknown as ISetting[]);\n    const [gunsList, setGunsList]: [IGun[], Function] = useState(shuffle(filterBySettings(guns.data as IGun[], settings)));\n\n\n    const changeChecked = (id: string) => {\n        const newSettings = [...settings];\n        let countClassChecked = 0;\n        let needUpdate = true;\n\n        newSettings.forEach((el) => {\n            if (defaultClasses.includes(el.id) && el.checked) {\n                countClassChecked++;\n            }\n        });\n\n\n        newSettings.forEach((el) => {\n            if (el.id === id) {\n                if (defaultClasses.includes(el.id) && countClassChecked === 1 && el.checked) {\n                    needUpdate = false;\n                    return;\n                }\n                el.checked = !el.checked;\n            }\n        });\n        setSettings(newSettings);\n        if (needUpdate) {\n            setGunsList([...shuffle(filterBySettings(guns.data as IGun[], newSettings))]);\n        }\n    };\n\n    const random = () => {\n        var random = Math.floor(Math.random() * gunsList.length);\n        setStyleLeft(-random * 100);\n        setTimeout(function() {\n            random++;\n        }, 5000)\n    };\n\n    return (\n        <div className=\"wf-gun\">\n            <div className=\"wf-gun__header\">\n                <img src={logo} alt=\"warface random gun\"/>\n            </div>\n            <div className=\"wf-gun__header-bg\"> </div>\n            <div className=\"wf-gun__content\">\n                <div className=\"wf-gun__content-settings\">\n                    { settings.map((setting) => (\n                        <div key={setting.id} className=\"wf-gun__content-settings__item\">\n                            <img src={setting.icon} alt={setting.title}/>\n                            <label htmlFor={setting.id} style={{width: setting.width}}>{setting.title}</label>\n                            <input onChange={() => changeChecked(setting.id)} type=\"checkbox\" id={setting.id} checked={setting.checked}/>\n                        </div>\n                    )) }\n                </div>\n                <div className=\"wf-gun__content-fortune\">\n                    <div className=\"wf-gun__content-fortune-shadow\"> </div>\n                    <div className=\"wf-gun__content-fortune-random\">\n                        <div className=\"wf-gun__content-fortune-result\"> </div>\n                        <div className=\"wf-gun__content-fortune-cards\" style={{left: styleLeft}}>\n                            { gunsList.map((gun, idx) => (\n                                <div key={idx}>\n                                   <img src={gun.image} alt=\"\"/>\n                                   <span>{gun.title}</span>\n                                </div>\n                            )) }\n                        </div>\n                    </div>\n                    <button className=\"wf-gun__content-fortune-start\" onClick={random}>КРУТИТЬ</button>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}